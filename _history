{"entries":[{"timestamp":1753264862392,"editorVersion":"8.0.11","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":2958,"diffs":[[1,"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <variables></variables>\n  <block type=\"pxt-on-start\" x=\"0\" y=\"0\">\n    <statement name=\"HANDLER\">\n      <block type=\"I2C_LCD1602_i2cLcdInit\">\n        <value name=\"addr\">\n          <shadow type=\"math_number\">\n            <field name=\"NUM\">27</field>\n          </shadow>\n        </value>\n        <next>\n          <block type=\"I2C_LCD1602_i2cLcdBacklightOff\">\n            <next>\n              <block type=\"device_pause\">\n                <value name=\"pause\">\n                  <shadow type=\"timePicker\">\n                    <field name=\"ms\">500</field>\n                  </shadow>\n                </value>\n                <next>\n                  <block type=\"I2C_LCD1602_i2cLcdBacklightOn\">\n                    <next>\n                      <block type=\"I2C_LCD1602_i2cLcdShowNumber\">\n                        <value name=\"n\">\n                          <shadow type=\"math_number\">\n                            <field name=\"NUM\">123</field>\n                          </shadow>\n                        </value>\n                        <value name=\"x\">\n                          <shadow type=\"math_number\">\n                            <field name=\"NUM\">0</field>\n                          </shadow>\n                        </value>\n                        <value name=\"y\">\n                          <shadow type=\"math_number\">\n                            <field name=\"NUM\">0</field>\n                          </shadow>\n                        </value>\n                        <next>\n                          <block type=\"I2C_LCD1602_i2cLcdShowString\">\n                            <value name=\"s\">\n                              <shadow type=\"text\">\n                                <field name=\"TEXT\">Hello</field>\n                              </shadow>\n                            </value>\n                            <value name=\"x\">\n                              <shadow type=\"math_number\">\n                                <field name=\"NUM\">3</field>\n                              </shadow>\n                            </value>\n                            <value name=\"y\">\n                              <shadow type=\"math_number\">\n                                <field name=\"NUM\">1</field>\n                              </shadow>\n                            </value>\n                            <next>\n                              <block type=\"I2C_LCD1602_i2cLcdOff\">\n                                <next>\n                                  <block type=\"device_pause\">\n                                    <value name=\"pause\">\n                                      <shadow type=\"timePicker\">\n                                        <field name=\"ms\">500</field>\n                                      </shadow>\n                                    </value>\n                                    <next>\n                                      <block type=\"I2C_LCD1602_i2cLcdOn\"></block>\n                                    </next>\n                                  </block>\n                                </next>\n                              </block>\n                            </next>\n                          </block>\n                        </next>\n                      </block>\n                    </next>\n                  </block>\n                </next>\n              </block>\n            </next>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n  <block type=\"device_forever\" x=\"226\" y=\"379\">\n    <statement name=\"HANDLER\">\n      <block type=\"I2C_LCD1602_i2cLcdShowNumber\">\n        <value name=\"n\">\n          <block type=\"device_random\">\n            <value name=\"min\">\n              <shadow type=\"math_number\">\n                <field name=\"NUM\">0</field>\n              </shadow>\n            </value>\n          </block>\n        </value>\n        <value name=\"x\">\n          <block type=\"device_random\">\n            <value name=\"min\">\n              <shadow type=\"math_number\">\n                <field name=\"NUM\">0</field>\n              </shadow>\n            </value>\n          </block>\n        </value>\n        <value name=\"y\">\n          <block type=\"device_random\">\n            <value name=\"min\">\n              <shadow type=\"math_number\">\n                <field name=\"NUM\">0</field>\n              </shadow>\n            </value>\n          </block>\n        </value>\n        <next>\n          <block type=\"device_pause\">\n            <value name=\"pause\">\n              <shadow type=\"timePicker\">\n                <field name=\"ms\">100</field>\n              </shadow>\n            </value>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n</xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":285,"length1":78,"diffs":[[1,"    I2C_LCD1602.i2cLcdShowNumber(Math.randomRange(0, 0), Math.randomRange(0, 0), Math.randomRange(0, 0))\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":2,"length1":56,"diffs":[[1,"    \"name\": \"I2C LCD1602 demo\",\n"]]},{"start1":99,"length1":130,"diffs":[[1,"        \"i2cLCD1602\": \"github:makecode-extensions/i2clcd1602#030ffbfdcd33b80761c014717d3caf8e6b4e14db\"\n"]]},{"start1":209,"length1":0,"diffs":[[1,"    \"description\": \"\",\n"]]},{"start1":337,"length1":44,"diffs":[[1,""]]},{"start1":580,"length1":44,"diffs":[[1,"    }\n}"]]}]},{"type":"added","filename":"test.ts","value":"// tests go here; this will not be compiled when this package is used as an extension.\n"}]}],"snapshots":[{"timestamp":1753264862391,"editorVersion":"8.0.11","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <variables></variables>\n  <block type=\"pxt-on-start\" x=\"0\" y=\"0\">\n    <statement name=\"HANDLER\">\n      <block type=\"I2C_LCD1602_i2cLcdInit\">\n        <value name=\"addr\">\n          <shadow type=\"math_number\">\n            <field name=\"NUM\">27</field>\n          </shadow>\n        </value>\n        <next>\n          <block type=\"I2C_LCD1602_i2cLcdBacklightOff\">\n            <next>\n              <block type=\"device_pause\">\n                <value name=\"pause\">\n                  <shadow type=\"timePicker\">\n                    <field name=\"ms\">500</field>\n                  </shadow>\n                </value>\n                <next>\n                  <block type=\"I2C_LCD1602_i2cLcdBacklightOn\">\n                    <next>\n                      <block type=\"I2C_LCD1602_i2cLcdShowNumber\">\n                        <value name=\"n\">\n                          <shadow type=\"math_number\">\n                            <field name=\"NUM\">123</field>\n                          </shadow>\n                        </value>\n                        <value name=\"x\">\n                          <shadow type=\"math_number\">\n                            <field name=\"NUM\">0</field>\n                          </shadow>\n                        </value>\n                        <value name=\"y\">\n                          <shadow type=\"math_number\">\n                            <field name=\"NUM\">0</field>\n                          </shadow>\n                        </value>\n                        <next>\n                          <block type=\"I2C_LCD1602_i2cLcdShowString\">\n                            <value name=\"s\">\n                              <shadow type=\"text\">\n                                <field name=\"TEXT\">Hello</field>\n                              </shadow>\n                            </value>\n                            <value name=\"x\">\n                              <shadow type=\"math_number\">\n                                <field name=\"NUM\">3</field>\n                              </shadow>\n                            </value>\n                            <value name=\"y\">\n                              <shadow type=\"math_number\">\n                                <field name=\"NUM\">1</field>\n                              </shadow>\n                            </value>\n                            <next>\n                              <block type=\"I2C_LCD1602_i2cLcdOff\">\n                                <next>\n                                  <block type=\"device_pause\">\n                                    <value name=\"pause\">\n                                      <shadow type=\"timePicker\">\n                                        <field name=\"ms\">500</field>\n                                      </shadow>\n                                    </value>\n                                    <next>\n                                      <block type=\"I2C_LCD1602_i2cLcdOn\"></block>\n                                    </next>\n                                  </block>\n                                </next>\n                              </block>\n                            </next>\n                          </block>\n                        </next>\n                      </block>\n                    </next>\n                  </block>\n                </next>\n              </block>\n            </next>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n  <block type=\"device_forever\" x=\"226\" y=\"379\">\n    <statement name=\"HANDLER\">\n      <block type=\"I2C_LCD1602_i2cLcdShowNumber\">\n        <value name=\"n\">\n          <block type=\"device_random\">\n            <value name=\"min\">\n              <shadow type=\"math_number\">\n                <field name=\"NUM\">0</field>\n              </shadow>\n            </value>\n          </block>\n        </value>\n        <value name=\"x\">\n          <block type=\"device_random\">\n            <value name=\"min\">\n              <shadow type=\"math_number\">\n                <field name=\"NUM\">0</field>\n              </shadow>\n            </value>\n          </block>\n        </value>\n        <value name=\"y\">\n          <block type=\"device_random\">\n            <value name=\"min\">\n              <shadow type=\"math_number\">\n                <field name=\"NUM\">0</field>\n              </shadow>\n            </value>\n          </block>\n        </value>\n        <next>\n          <block type=\"device_pause\">\n            <value name=\"pause\">\n              <shadow type=\"timePicker\">\n                <field name=\"ms\">100</field>\n              </shadow>\n            </value>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>\n</xml>","main.ts":"I2C_LCD1602.i2cLcdInit(27)\nI2C_LCD1602.i2cLcdBacklightOff()\nbasic.pause(500)\nI2C_LCD1602.i2cLcdBacklightOn()\nI2C_LCD1602.i2cLcdShowNumber(123, 0, 0)\nI2C_LCD1602.i2cLcdShowString(\"Hello\", 3, 1)\nI2C_LCD1602.i2cLcdOff()\nbasic.pause(500)\nI2C_LCD1602.i2cLcdOn()\nbasic.forever(function () {\n    I2C_LCD1602.i2cLcdShowNumber(Math.randomRange(0, 0), Math.randomRange(0, 0), Math.randomRange(0, 0))\n    basic.pause(100)\n})\n","README.md":"","custom.ts":"\n/**\n * Use this file to define custom functions and blocks.\n * Read more at https://makecode.microbit.org/blocks/custom\n */\n\n\n\n/**\n * Custom blocks\n */\n//% weight=100 color=#0fbc11 icon=\"\"\nnamespace I2C_LCD1602 {\n    /**\n     * TODO: describe your function here\n     * @param e describe parameter here\n     */\n    let i2cAddr: number\n    let BK: number\n    let RS: number\n\n    function setreg(d: number) {\n        pins.i2cWriteNumber(i2cAddr, d, NumberFormat.Int8LE)\n        basic.pause(1)\n    }\n\n    function set(d: number) {\n        d = d & 0xF0\n        d = d + BK + RS\n        setreg(d)\n        setreg(d + 4)\n        setreg(d)\n    }\n\n    function cmd(d: number) {\n        RS = 0\n        set(d)\n        set(d << 4)\n    }\n\n    function dat(d: number) {\n        RS = 1\n        set(d)\n        set(d << 4)\n    }\n\n    //% block\n    export function i2cLcdInit(addr: number) {\n        i2cAddr = addr\n        BK = 8\n        RS = 0\n        cmd(0x33)\n        basic.pause(5)\n        set(0x30)\n        basic.pause(5)\n        set(0x20)\n        basic.pause(5)\n        cmd(0x28)\n        cmd(0x0C)\n        cmd(0x06)\n        cmd(0x01)\n    }\n\n    //% block\n    export function i2cLcdShowChar(ch: string, x: number, y: number): void {\n        let a: number\n\n        if (y > 0)\n            a = 0xC0\n        else\n            a = 0x80\n        a += x\n        cmd(a)\n        dat(ch.charCodeAt(0))\n    }\n\n    //% block\n    export function i2cLcdShowNumber(n: number, x: number, y: number): void {\n        let s = n.toString()\n        i2cLcdShowString(s, x, y)\n    }\n\n    /**\n     * TODO: describe your function here\n     * @param value describe value here, eg: 5\n     */\n    //% block\n    export function i2cLcdShowString(s: string, x: number, y: number): void {\n        let a: number\n\n        if (y > 0)\n            a = 0xC0\n        else\n            a = 0x80\n        a += x\n        cmd(a)\n\n        for (let i = 0; i < s.length; i++) {\n            dat(s.charCodeAt(i))\n        }\n    }\n\n    //% block\n    export function i2cLcdOn(): void {\n        cmd(0x0C)\n    }\n\n    //% block\n    export function i2cLcdOff(): void {\n        cmd(0x08)\n    }\n\n    //% block\n    export function i2cLcdClear(): void {\n        cmd(0x01)\n    }\n\n    //% block\n    export function i2cLcdBacklightOn(): void {\n        BK = 8\n        dat(0)\n    }\n\n    //% block\n    export function i2cLcdBacklightOff(): void {\n        BK = 0\n        dat(0)\n    }\n\n}\n","pxt.json":"{\n    \"name\": \"I2C LCD1602 demo\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"i2cLCD1602\": \"github:makecode-extensions/i2clcd1602#030ffbfdcd33b80761c014717d3caf8e6b4e14db\"\n    },\n    \"description\": \"\",\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"custom.ts\"\n    ],\n    \"targetVersions\": {\n        \"branch\": \"v1.2.11\",\n        \"tag\": \"v1.2.11\",\n        \"commits\": \"https://github.com/Microsoft/pxt-microbit/commits/38ad5ed0afd98a8d3ba9380f33db341cd7b25136\",\n        \"target\": \"1.2.11\",\n        \"pxt\": \"4.4.7\"\n    }\n}"}}],"shares":[],"lastSaveTime":1753265064995}